
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>UCG Tech Pathway Assessment</title>
  <style>
    :root{
      --build:#4F81BD;   /* blue */
      --secure:#C0504D;  /* red */
      --support:#9BBB59; /* green */
      --educate:#F79646; /* orange */
      --grow:#8064A2;    /* purple */
      --bg:#f7f7fb;
      --card:#ffffff;
      --muted:#6b7280;
      --text:#111827;
      --border:#e5e7eb;
      --accent:#111827;
    }
    *{box-sizing:border-box}
    body{
      margin:0; font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif;
      color:var(--text); background:var(--bg);
    }
    .wrap{max-width:900px; margin:24px auto; padding:16px;}
    .progress-wrap{position:sticky; top:0; z-index:10; background:transparent; margin-bottom:10px}
    .progress{height:10px; width:100%; background:#eceff3; border-radius:999px; overflow:hidden; border:1px solid var(--border)}
    .progress .bar{height:100%; width:0%; background:linear-gradient(90deg, var(--build), var(--grow)); transition:width .25s ease}
    .progress-label{display:flex; justify-content:space-between; align-items:center; font-size:.9rem; color:var(--muted); margin:.35rem 2px 0}
    .card{
      background:var(--card); border:1px solid var(--border); border-radius:16px;
      box-shadow:0 4px 14px rgba(17,24,39,.06); padding:20px; margin-bottom:16px;
    }
    h1{font-size:1.6rem; margin:.2rem 0 1rem}
    h2{font-size:1.2rem; margin:1.2rem 0 .6rem}
    p.lead{color:var(--muted); margin-top:0}
    .grid{display:grid; gap:12px}
    @media(min-width:720px){ .grid{grid-template-columns:1fr 1fr} }
    .field{display:flex; flex-direction:column; gap:6px}
    label{font-weight:600}
    input[type="text"], select{
      border:1px solid var(--border); border-radius:10px; padding:10px 12px; font-size:1rem; background:#fff;
    }
    .settings{display:flex; gap:12px; align-items:center; flex-wrap:wrap; margin-top:8px}
    .q{ border:1px solid var(--border); border-radius:12px; padding:14px; margin:10px 0; background:#fff; }
    .q h3{font-size:1rem; margin:0 0 .5rem}
    .likert{display:flex; gap:8px; flex-wrap:wrap; align-items:center}
    .likert .opt{display:flex; align-items:center; gap:6px; padding:6px 8px; border-radius:10px; border:1px solid var(--border); cursor:pointer}
    .likert input{margin:0}
    .hint{color:var(--muted); font-size:.9rem}
    .cta{ display:flex; flex-wrap:wrap; gap:10px; margin-top:10px; }
    button{
      appearance:none; border:1px solid var(--border); background:#111827; color:#fff;
      padding:10px 14px; border-radius:12px; cursor:pointer; font-weight:600;
      box-shadow:0 2px 10px rgba(17,24,39,.08);
    }
    button.secondary{background:#fff; color:#111827}
    button.ghost{background:#fff; color:var(--muted); border-style:dashed}
    button[disabled]{opacity:.5; cursor:not-allowed}
    .pill{display:inline-block; padding:4px 10px; border-radius:999px; font-weight:700; color:#fff; font-size:.85rem}
    .pill.build{background:var(--build)} .pill.secure{background:var(--secure)} .pill.support{background:var(--support)}
    .pill.educate{background:var(--educate)} .pill.grow{background:var(--grow)}
    .result .section{margin:10px 0}
    .result h3{margin:.4rem 0}
    .muted{color:var(--muted)}
    .footer{font-size:.85rem; color:var(--muted); text-align:center; margin-top:10px}
    .hr{height:1px; background:var(--border); margin:16px 0}
    .hidden{display:none}
    .nav{display:flex; align-items:center; justify-content:space-between; gap:8px; margin-top:8px}
    .nav .left{display:flex; gap:8px; align-items:center}
    .nav .right{display:flex; gap:8px; align-items:center}
    .counter{color:var(--muted); font-size:.9rem}
    @media print{
      body{background:#fff}
      .cta, .progress-wrap, .settings, .nav{display:none}
      .card{box-shadow:none; border:0}
    }
  </style>
</head>
<body>
  <div class="wrap">

<div class="card" style="background:linear-gradient(135deg,#4F81BD,#8064A2);color:white;text-align:center;margin-bottom:20px;">
  <h1 style="margin:0;font-size:1.8rem;">Discover Your Tech Pathway</h1>
  <p style="margin:.5rem auto 0;max-width:700px;font-size:1rem;line-height:1.5;">
    Take this quick 25-question quiz to find out which Urban Coders Guild pathway fits your skills and interests. 
    In just a few minutes, you’ll see your top matches, explore careers, and get recommendations for UCG courses 
    and high school classes to help you succeed.
  </p>
</div>

    <div class="progress-wrap">
      <div class="progress"><div id="progressBar" class="bar"></div></div>
      <div class="progress-label"><span id="progressCount">0 / 25 answered</span><span id="progressPct">0%</span></div>
    </div>

    <div class="card">
      <h1>Which Tech Pathway is Right for You?</h1>
      <p class="lead">Answer 25 short statements (1–5). Get your top pathway, sample careers, matching UCG programs, and recommended HS courses.</p>
      <div class="grid"><div class="field"><label>Date</label><input id="today" type="text" readonly></div></div>
<div class="settings">
        <label><input id="stepperToggle" type="checkbox" checked /> Show one question at a time (recommended)</label>
        <label><input id="requiredToggle" type="checkbox" checked /> Require an answer for every question</label>
        
      <p class="hint">We respect your privacy. Your information will only be used by Urban Coders Guild to share program updates. We will never sell or share your data with third parties.</p>
      </div>
      <p class="hint">Scale: 1 = Strongly Disagree · 2 = Disagree · 3 = Neutral · 4 = Agree · 5 = Strongly Agree</p>
    </div>

    <div id="questions" class="card"></div>

    <div id="nav" class="card nav hidden">
      <div class="left">
        <button id="prevBtn" class="secondary">Back</button>
        <button id="nextBtn">Next</button>
      </div>
      <div class="right">
        <span class="counter" id="qCounter">Question 1 of 25</span>
      </div>
    </div>

    
    <div class="card" id="optional-info">
      <h2>Optional: Save your results & get updates</h2>
      <p class="hint">Add your info if you want it on your PDF or to receive UCG updates. All fields are optional.</p>
      <div class="grid">
        <div class="field"><label>Student Name <span class="muted">(optional)</span></label><input id="studentName" type="text" placeholder="First name or initials" aria-describedby="nameHelp"><span id="nameHelp" class="hint">Used on your printable summary only.</span></div>
        <div class="field"><label>Student Email <span class="muted">(optional)</span></label><input id="studentEmail" type="email" placeholder="name@example.com" aria-describedby="emailHelp"><span id="emailHelp" class="hint">Enter an email if you want updates from UCG.</span></div>
        <div class="field"><label>Grade <span class="muted">(optional)</span></label>
          <select id="studentGrade" aria-label="Grade (optional)">
            <option value="">—</option>
            <option>8</option><option>9</option><option>10</option><option>11</option><option>12</option>
          </select>
        </div>
        <div class="field"><label>School <span class="muted">(optional)</span></label><input id="studentSchool" type="text" placeholder="School name"></div>
      </div>
      <label style="display:block;margin-top:10px;">
        <input id="optinToggle" type="checkbox" aria-describedby="privacyHint" />
        I agree to receive emails from Urban Coders Guild about courses &amp; events.
        <a href="https://urbancodersguild.org/privacy" target="_blank" rel="noopener">Privacy Policy</a>
      </label>
      <p id="privacyHint" class="hint">We respect your privacy. Your information will only be used by Urban Coders Guild to share program updates. We will never sell or share your data with third parties.</p>
    </div>
<div class="card">
      <div class="cta">
        <button id="submitBtn">See My Results</button>
        <button id="resetBtn" class="secondary">Reset</button>
        <button id="printBtn" class="ghost">Print / Save PDF</button>
        <button id="csvBtn" class="ghost">Download CSV</button>
      </div>
      <p class="hint">We don’t require personal info to see results. Add your name/grade/school/email if you want it on your summary. Checking the opt‑in box lets Urban Coders Guild email you about courses and events. You can unsubscribe anytime.</p>
    </div>

    <div id="results" class="card hidden" aria-live="polite"></div>

    <div class="footer">Urban Coders Guild • Student-friendly assessment • <span class="muted">v1.3 (opt‑in email)</span></div>
  </div>

<script>
const QUESTIONS = [
  // Build (1–5)
  { t:"I enjoy designing or building things from scratch.", p:"Build" },
  { t:"I like experimenting with technology to make something new.", p:"Build" },
  { t:"I enjoy solving puzzles using math, logic, or patterns.", p:"Build" },
  { t:"I want to create apps, games, or websites that other people use.", p:"Build" },
  { t:"I like the idea of turning creative ideas into working projects.", p:"Build" },
  // Secure (6–10)
  { t:"I enjoy solving mysteries or figuring out how something went wrong.", p:"Secure" },
  { t:"I like protecting people or systems from harm.", p:"Secure" },
  { t:"I would enjoy learning how hackers think so I can stop them.", p:"Secure" },
  { t:"I want to be the kind of person who others rely on for safety.", p:"Secure" },
  { t:"I like finding weak spots in a system or plan and improving them.", p:"Secure" },
  // Support (11–15)
  { t:"I enjoy fixing or troubleshooting problems when things break.", p:"Support" },
  { t:"I like organizing systems or processes to make them run better.", p:"Support" },
  { t:"I want to be the person people call when technology isn’t working.", p:"Support" },
  { t:"I enjoy working behind the scenes to keep things running.", p:"Support" },
  { t:"I like improving tools and systems so they last longer.", p:"Support" },
  // Educate (16–20)
  { t:"I enjoy helping others understand something I already know.", p:"Educate" },
  { t:"I like presenting or writing to explain new ideas.", p:"Educate" },
  { t:"I enjoy mentoring, tutoring, or teaching others.", p:"Educate" },
  { t:"I feel proud when I help someone else succeed.", p:"Educate" },
  { t:"I would like to design lessons, guides, or tutorials for others.", p:"Educate" },
  // Grow (21–25)
  { t:"I like organizing people to reach a goal.", p:"Grow" },
  { t:"I want to start a business, lead a project, or create something big.", p:"Grow" },
  { t:"I enjoy making decisions and planning next steps.", p:"Grow" },
  { t:"I like seeing the 'big picture' and thinking about strategy.", p:"Grow" },
  { t:"I am motivated by achieving goals, growth, and success.", p:"Grow" },
];

const LOOKUP = {
  Build: {
    careers: ["Software Engineer","Full‑Stack Developer","Mobile/App Developer","Game/AR‑VR Developer","Data Scientist"],
    programs: ["Web Dev","Mobile App Dev","Unity Game Dev"],
    hs: ["Algebra I–II","Pre‑Calculus","AP CS A","AP CS Principles"],
    color: "build",
    summary: "You love creating, problem‑solving, and experimenting. Great matches include software, data, robotics/AI, and design. UCG’s Web, Mobile, and Game Dev programs are a perfect fit."
  },
  Secure: {
    careers: ["Cybersecurity Specialist","Ethical Hacker","Forensic Analyst","Information Security Analyst","GRC Specialist"],
    programs: ["Cybersecurity"],
    hs: ["Geometry","Algebra II","Cybersecurity","AP CS Principles"],
    color: "secure",
    summary: "You enjoy protecting systems and solving mysteries. Careers include security analyst, ethical hacker, forensics, and policy. UCG’s Cybersecurity program maps directly."
  },
  Support: {
    careers: ["Systems Analyst","Database Administrator","Network Architect","Systems Administrator","BI Developer"],
    programs: ["IT Fundamentals","Networking","Data/Databases"],
    hs: ["Algebra I–II","Networking","IT Fundamentals","CS I & II"],
    color: "support",
    summary: "You like keeping technology running and solving practical problems. Careers span IT support, systems, cloud, DevOps, and data ops."
  },
  Educate: {
    careers: ["Coding Instructor","Technical Writer","Instructional Designer","HCI Specialist","STEM Outreach"],
    programs: ["Tech Writing/Communication","Peer Mentoring","Instructional Design projects"],
    hs: ["Algebra I","Geometry","Computer Applications I & II","CS I"],
    color: "educate",
    summary: "You love helping others learn and communicating ideas clearly. Careers include teaching, writing, instructional design, and community leadership."
  },
  Grow: {
    careers: ["Product Manager","Project Manager","Business Analyst","Tech Entrepreneur","Technology Consultant"],
    programs: ["Entrepreneurship","Product/Project Labs"],
    hs: ["Algebra II","Pre‑Calculus","AP Statistics","CS Principles"],
    color: "grow",
    summary: "You’re motivated by leading teams, making decisions, and building new opportunities. Roles include product, project, business, consulting, and startups."
  },
};

// ----- Optional email & consent -----
function getContactInfo(){
  const name = (document.getElementById('studentName').value || '').trim();
  const email = (document.getElementById('studentEmail').value || '').trim();
  const grade = (document.getElementById('studentGrade').value || '').trim();
  const school = (document.getElementById('studentSchool').value || '').trim();
  const consent = document.getElementById('optinToggle')?.checked ? 'Yes' : 'No';
  return { name, email, grade, school, consent };
}

function validateEmailIfProvided(){
  const email = (document.getElementById('studentEmail').value || '').trim();
  if (!email) return true; // optional
  const ok = /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
  if (!ok){
    alert('Please enter a valid email address (or leave it blank).');
  }
  return ok;
}

// ----- Rendering -----
const container = document.getElementById('questions');
function renderQuestions(){
  const frag = document.createDocumentFragment();
  QUESTIONS.forEach((q, i) => {
    const div = document.createElement('div');
    div.className = 'q';
    div.dataset.index = i+1;
    const num = i+1;
    div.innerHTML = `
      <h3>${num}. ${q.t} <span class="muted">(${q.p})</span></h3>
      <div class="likert" role="group" aria-label="Likert scale">
        ${[1,2,3,4,5].map(val => `
          <label class="opt"><input type="radio" name="q${num}" value="${val}"/><span>${val}</span></label>
        `).join('')}
      </div>
    `;
    frag.appendChild(div);
  });
  container.appendChild(frag);
}
renderQuestions();

// ----- State -----
let stepperMode = true;
let requiredMode = true;
let currentIndex = 1;

// ----- Helpers -----
function getResponses(){
  const vals = [];
  for(let i=1;i<=QUESTIONS.length;i++){
    const checked = document.querySelector(`input[name="q${i}"]:checked`);
    vals.push(checked ? Number(checked.value) : null);
  }
  return vals;
}

function score(responses){
  const totals = {Build:0,Secure:0,Support:0,Educate:0,Grow:0};
  responses.forEach((v, i) => {
    if (v==null) return;
    const pathway = QUESTIONS[i].p;
    totals[pathway]+=v;
  });
  const entries = Object.entries(totals).sort((a,b)=>b[1]-a[1]);
  const [top, second] = entries;
  return {totals, top, second};
}

function renderResults(model){
  const r = document.getElementById('results');
  const [topName] = model.top;
  const [secName] = model.second;
  const top = LOOKUP[topName];
  const sec = LOOKUP[secName];

  const ci = getContactInfo();
  const name = ci.name;
  const grade = ci.grade;
  const school = ci.school;

  const pillTop = `<span class="pill ${top.color}">${topName}</span>`;
  const pillSec = `<span class="pill ${sec.color}">${secName}</span>`;

  const scoreList = Object.entries(model.totals)
    .map(([k,v])=>`${k}: <strong>${v}</strong>`)
    .join(" &nbsp; • &nbsp; ");

  r.innerHTML = `
    <div class="result">
      <div class="section">
        <h2>Results ${name?`for ${name}`:""}</h2>
        <div class="muted">${grade?`Grade ${grade} • `:""}${school?`${school} • `:""}${new Date().toLocaleDateString()}</div>
      </div>
      <div class="hr"></div>
      <div class="section">
        <h3>Top Pathway: ${pillTop}</h3>
        <p>${top.summary}</p>
        <p><strong>Example Careers:</strong> ${top.careers.join(", ")}</p>
        <p><strong>UCG Programs:</strong> ${top.programs.join(" · ")}</p>
        <p><strong>Starter HS Courses:</strong> ${top.hs.join(" · ")}</p>
      </div>
      <div class="section">
        <h3>Second Pathway: ${pillSec}</h3>
        <p>${sec.summary}</p>
      </div>
      <div class="hr"></div>
      <div class="section">
        <h3>Scores</h3>
        <p class="muted">${scoreList}</p>
      </div>
    </div>
  `;
  r.classList.remove('hidden');
  r.scrollIntoView({behavior:'smooth', block:'start'});
}

// ----- Progress Bar -----
function updateProgress(){
  const total = QUESTIONS.length;
  let answered = 0;
  for(let i=1;i<=total;i++){
    if(document.querySelector(`input[name="q${i}"]:checked`)) answered++;
  }
  const pct = Math.round((answered/total)*100);
  const bar = document.getElementById('progressBar');
  const lbl = document.getElementById('progressCount');
  const pctLbl = document.getElementById('progressPct');
  if(bar){ bar.style.width = pct + '%'; }
  if(lbl){ lbl.textContent = `${answered} / ${total} answered`; }
  if(pctLbl){ pctLbl.textContent = `${pct}%`; }
  updateNavState();
}

// Attach listeners to radios
function attachListeners(){
  document.querySelectorAll('input[type="radio"]').forEach(el=>{
    el.addEventListener('change', updateProgress);
  });
}

// ----- Stepper & Required modes -----
function setMode(){
  stepperMode = document.getElementById('stepperToggle').checked;
  requiredMode = document.getElementById('requiredToggle').checked;
  const nav = document.getElementById('nav');
  const cards = Array.from(document.querySelectorAll('#questions .q'));
  if (stepperMode){
    nav.classList.remove('hidden');
    cards.forEach((c,i)=>{
      c.style.display = (i===currentIndex-1) ? 'block' : 'none';
    });
    updateNavState();
  } else {
    nav.classList.add('hidden');
    cards.forEach(c=> c.style.display = 'block');
  }
}

function updateNavState(){
  if(!stepperMode) return;
  const prev = document.getElementById('prevBtn');
  const next = document.getElementById('nextBtn');
  const counter = document.getElementById('qCounter');
  const total = QUESTIONS.length;

  prev.disabled = (currentIndex===1);

  // Require current question answered to enable Next (unless it's the last step, where we show "Finish")
  const answered = !!document.querySelector(`input[name="q${currentIndex}"]:checked`);
  if (currentIndex < total){
    next.textContent = "Next";
    next.disabled = requiredMode ? !answered : false;
  } else {
    next.textContent = "Finish";
    next.disabled = requiredMode ? !answered : false;
  }
  counter.textContent = `Question ${currentIndex} of ${total}`;
}

function goto(delta){
  const total = QUESTIONS.length;
  const newIndex = Math.min(total, Math.max(1, currentIndex + delta));
  if (newIndex === currentIndex) return;
  const cards = Array.from(document.querySelectorAll('#questions .q'));
  cards[currentIndex-1].style.display = 'none';
  cards[newIndex-1].style.display = 'block';
  currentIndex = newIndex;
  updateNavState();
  cards[newIndex-1].scrollIntoView({behavior:'smooth', block:'start'});
}

// ----- Actions -----
function trySubmit(){
  const responses = getResponses();
  const unanswered = responses.filter(v=>v==null).length;
  if (requiredMode && unanswered>0){
    alert(`Please answer all questions. ${unanswered} question(s) left.`);
    return null;
  }
  return responses;
}

document.getElementById('prevBtn').addEventListener('click', ()=> goto(-1));
document.getElementById('nextBtn').addEventListener('click', ()=> {
  const total = QUESTIONS.length;
  // If required, block next if current unanswered
  if (requiredMode && !document.querySelector(`input[name="q${currentIndex}"]:checked`)){
    alert("Please select a response before continuing.");
    return;
  }
  if (currentIndex < total){
    goto(+1);
  } else {
    // At last question, trigger submit
    document.getElementById('submitBtn').click();
  }
});

function toCSV(model){
  const headers = ["timestamp","name","email","grade","school","consent_email","score_build","score_secure","score_support","score_educate","score_grow","top_pathway","second_pathway"];
  const ci = getContactInfo();
  const row = [
    new Date().toISOString(),
    ci.name,
    ci.email,
    ci.grade,
    ci.school,
    ci.consent,
    model.totals.Build, model.totals.Secure, model.totals.Support, model.totals.Educate, model.totals.Grow,
    model.top[0], model.second[0]
  ];
  const csv = [headers.join(","), row.map(v=>`"${String(v).replaceAll('"','""')}"`).join(",")].join("\n");
  const blob = new Blob([csv], {type:"text/csv"});
  const a = document.createElement('a');
  a.href = URL.createObjectURL(blob);
  a.download = "ucg_assessment_result.csv";
  document.body.appendChild(a);
  a.click();
  a.remove();
}

function resetForm(){
  document.querySelectorAll('input[type="radio"]').forEach(el=>el.checked=false);
  document.getElementById('results').classList.add('hidden');
  document.getElementById('results').innerHTML = "";
  currentIndex = 1;
  setMode();
  updateProgress();
}

document.getElementById('submitBtn').addEventListener('click', () => {
  if(!validateEmailIfProvided()) return;
  const responses = trySubmit();
  if (!responses) return;
  const model = score(responses);
  renderResults(model);
  // Optional POST to endpoint (see README)
  // const ci = getContactInfo();
  // fetch("YOUR_APPS_SCRIPT_WEB_APP_URL", {
  //   method:"POST",
  //   headers:{"Content-Type":"application/json"},
  //   body: JSON.stringify({
  //     timestamp: new Date().toISOString(),
  //     name: ci.name,
  //     email: ci.email,
  //     grade: ci.grade,
  //     school: ci.school,
  //     consent: ci.consent,
  //     totals: model.totals,
  //     top: model.top[0],
  //     second: model.second[0]
  //   })
  // }).catch(()=>{});
});

document.getElementById('resetBtn').addEventListener('click', resetForm);
document.getElementById('printBtn').addEventListener('click', () => window.print());
document.getElementById('csvBtn').addEventListener('click', () => {
  if(!validateEmailIfProvided()) return;
  const responses = trySubmit();
  if (!responses) return;
  const model = score(responses);
  toCSV(model);
});

// Settings toggles
document.getElementById('stepperToggle').addEventListener('change', setMode);
document.getElementById('requiredToggle').addEventListener('change', setMode);

// Init
document.getElementById('today').value = new Date().toLocaleDateString();
attachListeners();
updateProgress();
setMode();
</script>
</body>
</html>
